(this.webpackJsonpindra=this.webpackJsonpindra||[]).push([[0],{134:function(e,t,a){},196:function(e,t,a){e.exports=a.p+"static/media/Sandpile.090bc1a0.jpg"},197:function(e,t,a){e.exports=a.p+"static/media/sandpile_2.d38b3fb1.png"},198:function(e,t,a){e.exports=a.p+"static/media/mendelobrot_sq.875dd8b8.jpg"},229:function(e,t,a){e.exports=a(587)},582:function(e,t,a){},584:function(e,t,a){},587:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),c=a(100),i=a(66),s=a(12),u=a(72),d=a(612),m=a(618),p=a(620);var h=function(){return r.a.createElement(m.a,{bg:"light",expand:"lg"},r.a.createElement(p.a,{className:"mr-auto"},r.a.createElement(p.a.Link,{as:i.b,to:"/"},"HOME")),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(p.a,{className:"mr-auto"},r.a.createElement(p.a.Link,{href:"https://gcallah.github.io/indras_net/index.html"},"ABOUT"),r.a.createElement(p.a.Link,{href:"https://github.com/gcallah/indras_net/"},"SOURCE CODE"))))};function g(e){var t=e.children;return r.a.createElement(d.a,null,r.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"}),r.a.createElement(h,null),t)}g.defaultProps={children:{}};var v=g,b=a(9),f=a.n(b),E=a(18),y=a(20),k=a(21),O=a(23),S=a(22),D=a(617),j=a(613),P=a(616),x=a(144),C=a(216),N=a(207),_=(a(316),a(317),a(195)),w=a.n(_),R=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;Object(y.a)(this,a),(n=t.call(this,e)).renderImage=function(){var e=n.props,t=e.dots,a=e.speed,l=e.autoplay,o=e.className,c=e.data,i={arrows:!1,dots:t,infinite:!0,speed:a,slidesToShow:1,slidesToScroll:1,autoplay:l,fade:!0,className:o},s=function(){for(var e=n.state.imagesLoadedStatus,t=0;t<e.length;t+=1)if(!e[t])return!1;return!0};return r.a.createElement("div",null,r.a.createElement(w.a,i,c.map((function(e,t){return r.a.createElement("div",{key:e.title},s()?null:r.a.createElement("div",null,"Loading..."),r.a.createElement("img",{src:e.image,style:s()?{}:{display:"none"},className:"rounded-circle carousel",alt:"Responsive Model","data-toggle":"tooltip","data-placement":"top",title:e.title,onLoad:function(){var e=n.state.imagesLoadedStatus.slice();e[t]=!0,n.setState({imagesLoadedStatus:e})}}))}))))};var l=new Array(e.data.length).fill(!1);return n.state={imagesLoadedStatus:l},n}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderImage())}}]),a}(n.Component);R.defaultProps={dots:!1,speed:1e3,autoplay:!1,className:"",data:[]};var I=R,L=a(196),B=a.n(L),M=a(197),F=a.n(M),T=a(198),A=a.n(T),U=(a(134),a(38)),W=a.n(U),H="https://indraabm.herokuapp.com/",V=H+"models/props/",K=H+"menus/model",z=H+"models/run/",q=H+"registry/clear/",G=H+"pophist/";Object({NODE_ENV:"production",PUBLIC_URL:"/IndraFrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL&&(H=Object({NODE_ENV:"production",PUBLIC_URL:"/IndraFrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,V=Object({NODE_ENV:"production",PUBLIC_URL:"/IndraFrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL+"models/props/");var Y={API_URL:H,PROPS_URL:V,MENU_URL:K,RUN_URL:z,CLEAR_REGISTRY_URL:q,POPHIST_URL:G},J=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).renderChooseModelProp=function(){return r.a.createElement("h1",{className:"small-header"},"Please choose a model: ")},n.state={allItems:[],loadingData:!1,apiFailed:!1,dataForCarousel:[{image:B.a,title:"by Seth Terashima"},{image:F.a,title:"by Colt Browninga"},{image:A.a,title:"by Adam Majewski"}]},n.api_server=Y.API_URL,n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.history,e.prev=1,this.setState({loadingData:!0}),document.title="Home",e.next=6,W.a.get("".concat(this.api_server,"models?active=true"));case 6:a=e.sent,this.setState({allItems:a.data,loadingData:!1}),localStorage.setItem("indra_model_details",JSON.stringify(a.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.push("/errorCatching");case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loadingData,a=e.dataForCarousel,n=e.allItems;return e.apiFailed?r.a.createElement("h1",null,"404 Error"):t?r.a.createElement(D.a,{active:!0,inverted:!0},r.a.createElement(j.a,{size:"massive"},"Loading...")):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"margin-bottom-80"},r.a.createElement("h1",{className:"text-left"},"Indra Agent-Based Modeling System")),r.a.createElement("div",{className:"row"},r.a.createElement(x.a,{sm:12,lg:4,className:"mb-5"},this.renderChooseModelProp(),r.a.createElement(P.a,null,r.a.createElement(P.a.Toggle,{variant:"outline-dark",id:"dropdown-basic"},"Choose..."),r.a.createElement(P.a.Menu,null,Object.keys(n).map((function(e){return"active"in n[e]&&!0!==n[e].active?null:r.a.createElement(C.a,{key:"".concat(n[e].name,"-tooltip"),placement:"right",overlay:r.a.createElement(N.a,null,n[e].doc)},r.a.createElement(i.b,{to:{pathname:"/models/props/".concat(n[e].modelID),state:{menuId:n[e].modelID,name:n[e].name,source:n[e].source,graph:n[e].graph}},className:"link text-dark dropdown-item",key:n[e].name},n[e].name))}))))),r.a.createElement(x.a,{sm:12,lg:{cols:6,span:6,offset:2}},r.a.createElement(I,{speed:5e3,autoplay:!0,className:"col",data:a}))))}}]),a}(n.Component);J.defaultProps={history:{}};var X=J,$=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={loadingData:!1},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loadingData:!0}),document.title="Indra | Work in Progress",this.setState({loadingData:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loadingData?r.a.createElement(D.a,{active:!0,inverted:!0},r.a.createElement(j.a,{size:"massive"},"Loading...")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Welcome to the Indra ABM platform!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"We will have this model running soon!"),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component),Q=a(58),Z=a(35);function ee(e){var t=e.label,a=e.name,n=e.type,l=e.placeholder,o=e.propChange,c=e.error;return r.a.createElement("div",{key:t,className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:a,className:"col-sm-4 col-md-4 col-lg-4",key:t},t," "," "),r.a.createElement("input",{autoFocus:!0,id:a,type:n,className:"col-sm-2 col-md-2 col-lg-2",style:{fontSize:"15pt"},placeholder:l,onChange:o,name:a}),r.a.createElement("span",{className:"col-sm-6 col-md-6 col-lg-6",style:{color:"red",fontSize:12}},c),r.a.createElement("br",null)))}ee.defaultProps={label:"",name:"",type:"",placeholder:0,propChange:function(){},error:""};var te=ee;var ae=function(){return r.a.createElement(D.a,{active:!0,inverted:!0},r.a.createElement(j.a,{size:"massive"},"Loading..."))},ne=Y.PROPS_URL,re=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;Object(y.a)(this,a),(n=t.call(this,e)).states=function(e){var t=n.state.modelDetails;Object.keys(t).forEach((function(t){n.setState((function(a){return{modelDetails:Object(Z.a)(Object(Z.a)({},a.modelDetails),{},Object(Q.a)({},t,Object(Z.a)(Object(Z.a)({},a.modelDetails[t]),{},{defaultVal:e[t].val})))}}))}))},n.errors=function(){var e=n.state.modelDetails;Object.keys(e).forEach((function(e){return n.setState((function(t){return{modelDetails:Object(Z.a)(Object(Z.a)({},t.modelDetails),{},Object(Q.a)({},e,Object(Z.a)(Object(Z.a)({},t.modelDetails[e]),{},{errorMessage:"",disabledButton:!1})))}}))}))},n.errorSubmit=function(){var e=n.state.modelDetails,t=!1;return Object.keys(e).forEach((function(a){t=t||e[a].disabledButton})),t},n.propChanged=function(e){var t=n.state.modelDetails,a=e.target,r=a.name,l=a.value,o=n.checkValidity(r,l);t[r].disabledButton=!0,1===o?(t[r].val=parseInt(l,10),t[r].errorMessage="",t[r].disabledButton=!1,n.setState({modelDetails:t})):-1===o?(t[r].errorMessage="**Wrong Input Type",t[r].val=t[r].defaultVal,n.setState({modelDetails:t})):(t[r].errorMessage="**Please input a number between ".concat(t[r].lowval," and ").concat(t[r].hival,"."),t[r].val=t[r].defaultVal,n.setState({modelDetails:t})),n.setState({disabledButton:n.errorSubmit()})},n.checkValidity=function(e,t){var a=n.state.modelDetails;return t<=a[e].hival&&t>=a[e].lowval?"INT"===a[e].atype&&!1===!!(t%1)||"DBL"===a[e].atype?1:-1:0},n.handleSubmit=function(){var e=Object(E.a)(f.a.mark((function e(t){var a,r,l,o,c,i,s,u,d,m,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.modelDetails,l=a.menuId,o=a.name,c=a.source,i=a.graph,s=n.props.history,e.prev=3,e.next=6,W.a.put(ne+l,r);case 6:u=e.sent,d=l,m=u.data,p=u.data.exec_key,s.push({pathname:"/models/menu/".concat(d.toString(10)),state:{envFile:m,name:o,source:c,graph:i,execKey:p}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.push("/errorCatching");case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),n.renderHeader=function(){var e=n.state.name;return r.a.createElement("h1",{className:"header",style:{textAlign:"center",fontWeight:"200"}},"Please set the parameters for the ".concat(e," model"))},n.renderSubmitButton=function(){var e=n.state.disabledButton;return r.a.createElement("button",{type:"button",disabled:e,onClick:e?null:n.handleSubmit,className:"btn btn-primary m-2"},"Submit")},n.goback=function(){n.props.history.goBack()};var l=n.getInitialModelDetails();return n.state=Object(Z.a)({modelDetails:{},loadingData:!1,disabledButton:!1},l),n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.history,a=this.state.menuId,e.prev=2,document.title="Indra | Property",this.setState({loadingData:!0}),e.next=7,W.a.get("".concat(ne).concat(a));case 7:n=e.sent,this.setState({modelDetails:n.data}),this.states(n.data),this.errors(n.data),this.setState({loadingData:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),t.push("/errorCatching");case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getInitialModelDetails",value:function(){var e,t=this.props,a=t.location,n=t.history,r=t.match;try{var l=a.state;if(void 0===l){var o=parseInt(r.params.id,10),c=JSON.parse(localStorage.getItem("indra_model_details")).filter((function(e){return e["model ID"]===o}))[0];e={menuId:o,name:c.name,source:c.source,graph:c.graph}}else e=l}catch(i){n.push("/errorCatching")}return e}},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingData,n=t.modelDetails;return a?r.a.createElement(ae,null):r.a.createElement("div",null,r.a.createElement("h1",{className:"margin-top-60"}," "),this.renderHeader(),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("div",{className:"container"},Object.keys(n).map((function(t){return"question"in n[t]?r.a.createElement(te,{label:n[t].question,type:n[t].atype,placeholder:n[t].val,error:n[t].errorMessage,propChange:e.propChanged,name:t,key:t}):null})))),r.a.createElement("br",null),r.a.createElement("br",null),this.renderSubmitButton())}}]),a}(n.Component);re.defaultProps={history:{},location:{state:{}},match:{params:{id:""}}};var le=re,oe=a(53),ce=a(149),ie=a(67),se=a.n(ie),ue=a(113),de=a(68),me=(a(138),a(148)),pe=function(e){var t=e.title,a=e.children;return r.a.createElement(me.a,null,r.a.createElement("h5",{style:{textAlign:"center",fontSize:16},className:"card-header bg-primary text-white"},t),r.a.createElement(me.a.Body,null,a))},he=Y.POPHIST_URL;function ge(e){var t=Object(n.useState)({}),a=Object(ue.a)(t,2),l=a[0],o=a[1],c=e.loadingData,i=e.envFile;Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.exec_key,e.next=3,W.a.get("".concat(he).concat(t));case 3:a=e.sent,o(a.data.pops);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e]);var s=["red","green","blue","black","purple","magenta","orange"],u=0;if(c){var d=[];console.log(l);var m=l;return Object.keys(m).forEach((function(e,t){d.push({name:e,color:s[u%7],data:{}}),Object.keys(m[e]).forEach((function(a,n){d[t].data[a]=m[e][n]})),u+=1})),r.a.createElement(pe,{title:"Population Graph"},r.a.createElement(de.b,{data:d,width:"600px",height:"600px"}))}return null}ge.defaultProps={loadingData:!0,envFile:{}};var ve=ge;function be(e){var t=["red","green","blue","black","purple","magenta","orange"],a=0,n=[],l=e.loadingData,o=e.envFile;if(l){var c=[],i=e.envFile.pop_hist.pops;return Object.keys(i).forEach((function(e,r){c.push({name:e,color:o.members[e]?o.members[e].attrs.color:t[a%7],data:{}}),Object.keys(i[e]).forEach((function(t,a){c[r].data[t]=i[e][a]})),a+=1,n=c.map((function(e){var t=Object.keys(e.data).map((function(t){return e.data[t]})).reduce((function(e,t){return e+t}),0);return[e.name,t]}))})),r.a.createElement(pe,{title:"Population Bar Graph"},r.a.createElement(de.a,{data:n,width:"600px",height:"600px"}))}return null}be.defaultProps={loadingData:!0,envFile:{}};var fe=be;function Ee(e){var t=e.loadingData,a=e.envFile,n=(e.id,{tree:"triangle",square:"rect",person:"circle",deceased:"circle",circle:"circle",default:"circle"});if(t){var l=a.env.members,o=[],c={pointStyle:"circle"};return Object.keys(l).forEach((function(e,t){o.push({name:l[e].name,color:l[e].color,data:[]});var a=l[e].attrs.marker;c.pointStyle=a in n?n[l[e].attrs.marker]:"circle",Object.keys(l[e].members).forEach((function(a){null!==l[e].members[a].pos&&o[t].data.push(l[e].members[a].pos)}))})),r.a.createElement(pe,{title:"Scatter Plot"},r.a.createElement(de.c,{dataset:c,data:o,width:"600px",height:"600px"}))}return null}Ee.defaultProps={loadingData:!0,envFile:{},id:0};var ye=Ee,ke=a(208),Oe=a.n(ke);function Se(e){var t=e.envFile;return e.loadingData?r.a.createElement(pe,{title:"Model Data"},r.a.createElement(Oe.a,{src:t})):null}Se.defaultProps={envFile:{},loadingData:!0};var De=Se,je=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;Object(y.a)(this,a),n=t.call(this,e),se()(Object(oe.a)(n));var r=n.props,l=r.msg,o=r.title;return n.state={msg:l,title:o},n}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state,t=e.msg,a=e.title;return r.a.createElement("div",null,r.a.createElement("div",{className:"card w-50 model-status"},r.a.createElement("h5",{style:{textAlign:"center",fontSize:16},className:"card-header bg-primary text-white"},a),r.a.createElement("div",{className:"card-body overflow-auto"},r.a.createElement("pre",{className:"card-text"},t))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.msg!==t.msg?{msg:e.msg}:null}}]),a}(r.a.Component);je.defaultProps={msg:"",title:""};var Pe=a(619),xe=a(614),Ce=function(e){var t=e.loadingData,a=e.code;return t?r.a.createElement(pe,{title:"Source Code"},r.a.createElement(Pe.a,{language:"python",style:xe.a},a)):null};Ce.defaultProps={loadingData:!0,code:""};var Ne=Ce,_e=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(y.a)(this,a),n=t.call(this,e),se()(Object(oe.a)(n)),n.state={disabledButton:e.disabledButton,errorMessage:e.errorMessage,sendNumPeriods:e.sendNumPeriods,handleRunPeriod:e.handleRunPeriod},n}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state,t=e.disabledButton,a=e.sendNumPeriods,n=e.handleRunPeriod,l=e.errorMessage;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",disabled:t,onClick:t?null:a,className:"btn btn-success m-2"},"  ","Run","  ")," ",r.a.createElement("span",null,"model for")," ",r.a.createElement("input",{type:"INT",className:"from-control m-2 number-input",style:{width:"40px"},placeholder:"10",onChange:n})," ","periods.",r.a.createElement("span",{className:"error-message"},l))}}]),a}(r.a.Component);_e.defaultProps={disabledButton:!0,errorMessage:"",sendNumPeriods:function(){},handleRunPeriod:function(){}};var we=function(e){var t=e.loadingData,a=e.envFile;return t?r.a.createElement(pe,{title:"Logs"},r.a.createElement("div",{style:{whiteSpace:"pre-line"}},a.user.debug||"Run the model to see the logs")):null};we.defaultProps={loadingData:!0,envFile:{}};var Re=we,Ie=Y.MENU_URL,Le=Y.CLEAR_REGISTRY_URL,Be=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;Object(y.a)(this,a),(n=t.call(this,e)).viewSource=Object(E.a)(f.a.mark((function e(){var t,a,r,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state.source,a=t.split("/"),r=a[a.length-1],e.next=6,W.a.get("https://raw.githubusercontent.com/gcallah/indras_net/master/models/".concat(r));case 6:return l=e.sent,e.abrupt("return",l.data);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return","Something has gone wrong.");case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.handleRunPeriod=function(e){n.setState({periodNum:e.target.value}),0===n.checkValidity(e.target.value)?n.setState({errorMessage:"**Please input an integer",disabledButton:!0}):n.setState({errorMessage:"",disabledButton:!1})},n.checkValidity=function(e){return e%1===0?1:0},n.handleClick=function(e){switch(n.setState({loadingData:!1,loadingSourceCode:!1,loadingDebugger:!1,loadingScatter:!1,loadingPopulation:!1,loadingLogs:!1,loadingBar:!1}),n.setState({activeDisplay:e}),e){case 2:n.setState({loadingPopulation:!0});break;case 3:n.setState({loadingScatter:!0});break;case 5:n.setState({loadingDebugger:!0});break;case 6:n.setState({loadingSourceCode:!0});break;case 7:n.setState({loadingLogs:!0});break;case 4:n.setState({loadingBar:!0})}},n.sendNumPeriods=Object(E.a)(f.a.mark((function e(){var t,a,r,l,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.periodNum,r=t.envFile,l=t.EXEC_KEY,o=Object(Z.a)(Object(Z.a)({},r),{},{execution_key:l}),n.setState({loadingData:!0}),e.prev=3,e.next=6,W.a.put("".concat(Y.API_URL,"models/run/").concat(String(a)),o,a);case 6:c=e.sent,n.setState({envFile:c.data,loadingData:!1,msg:c.data.user.user_msgs}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])}))),n.timeout=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.continuousRun=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({continuousRun:!0,continuousRunDisabled:!0,periodNum:1,initLoading:!1}),e.next=3,n.timeout(200);case 3:if(!n.state.continuousRun){e.next=14;break}n.sendNumPeriods();case 5:if(!n.state.loadingData){e.next=11;break}return e.next=8,n.timeout(200);case 8:console.log("still waiting for data..."),e.next=5;break;case 11:console.log("data arrived!!"),e.next=3;break;case 14:case"end":return e.stop()}}),e)}))),n.stopRun=function(){n.setState({continuousRun:!1,continuousRunDisabled:!1})},n.renderHeader=function(){var e=n.state.name;return r.a.createElement("h1",{className:"header"},e)},n.MenuItem=function(e,t,a,l){var o=n.state.graph,c=n.state.activeDisplay;return r.a.createElement(ce.a.Item,{className:"w-50 p-3 list-group-item list-group-item-action",as:"li",active:c===t,disabled:3===t&&"line"===o||2===t&&"scatter"===o,key:l,onClick:function(){return n.handleClick(t)}},a)},n.renderMenuItem=function(){var e=n.state,t=e.envFile,a=e.loadingDebugger,l=e.loadingSourceCode,o=e.sourceCode,c=e.loadingPopulation,i=e.loadingScatter,s=e.loadingLogs,u=e.loadingBar;return r.a.createElement("div",{className:"mt-5"},r.a.createElement(De,{loadingData:a,envFile:t}),r.a.createElement(Ne,{loadingData:l,code:o}),r.a.createElement(ve,{loadingData:c,envFile:t}),r.a.createElement(fe,{loadingData:u,envFile:t}),r.a.createElement(ye,{loadingData:i,envFile:t}),r.a.createElement(Re,{loadingData:s,envFile:t}))},n.renderMapItem=function(){var e=n.state.menu;return r.a.createElement("div",{className:"row margin-bottom-80"},r.a.createElement("div",{className:"col w-25"},r.a.createElement(ce.a,null,Object.keys(e).map((function(t,a){return parseInt(t)>1?n.MenuItem(a,parseInt(t),e[t].question,e[t].func):null})))))};var l=n.props.location.state.envFile;return n.state={menu:{},loadingData:!0,envFile:{},source:"",periodNum:10,errorMessage:"",disabledButton:!1,loadingSourceCode:!1,loadingDebugger:!1,loadingPopulation:!1,loadingScatter:!1,loadingBar:!1,loadingLogs:!1,activeDisplay:null,continuousRun:!0,continuousRunDisabled:!1,initLoading:!0,EXEC_KEY:l.exec_key},se()(Object(oe.a)(n)),n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t,a,n,r,l,o,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location,a=t.state,n=a.envFile,r=a.name,l=a.source,o=a.graph,e.prev=3,document.title="Indra | Menu",e.next=7,W.a.get("".concat(Ie));case 7:c=e.sent,this.setState({menu:c.data,name:r,source:l,envFile:n,graph:o,msg:n.user.user_msgs,loadingData:!1}),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",!1);case 14:return"scatter"===o?this.setState({loadingScatter:!0,activeDisplay:3}):this.setState({loadingPopulation:!0,activeDisplay:2}),e.prev=16,e.next=19,this.viewSource();case 19:i=e.sent,this.setState({sourceCode:i}),e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(16),e.abrupt("return",!1);case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,this,[[3,11],[16,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(E.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.EXEC_KEY,e.next=3,W.a.get("".concat(Le).concat(t));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loadingData,a=e.msg,n=e.disabledButton,l=e.errorMessage,o=e.initLoading,c=e.continuousRunDisabled;return t&&o?r.a.createElement(ae,null):r.a.createElement("div",null,this.renderHeader(),r.a.createElement("div",null,r.a.createElement(je,{title:"Model Status",msg:a,ref:this.modelStatusBoxElement})),r.a.createElement("ul",{className:"list-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement(_e,{disabledButton:n,errorMessage:l,sendNumPeriods:this.sendNumPeriods,handleRunPeriod:this.handleRunPeriod}),r.a.createElement("button",{onClick:this.continuousRun,disabled:c,className:"btn btn-success m-2"},"Continuous Run"),r.a.createElement("button",{onClick:this.stopRun,className:"btn btn-danger m-2"},"Stop"),r.a.createElement("h3",{className:"margin-top-50 mb-4"},"Model Analysis:"))),this.renderMapItem()),this.renderMenuItem())}}]),a}(n.Component);Be.defaultProps={location:{state:{envFile:{}}},history:{}};var Me=Be,Fe=(a(582),function(e){var t=e.code,a=e.children;return r.a.createElement(s.a,{render:function(e){var n=e.staticContext;return n&&(n.status=t),a}})});Fe.defaultProps={code:0,children:{}};var Te,Ae=function(){return r.a.createElement(Fe,{code:404},r.a.createElement("div",{className:"NotFoundPage"},r.a.createElement("h1",null,"Oops!"),r.a.createElement("div",null,"Page not found."),r.a.createElement("div",{className:"action"},r.a.createElement("a",{className:"btn btn-primary",href:"/"},"Guide me to the right path!"))))},Ue=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={loadingData:!1},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loadingData:!0}),document.title="Indra | Work in Progress",this.setState({loadingData:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loadingData?r.a.createElement(D.a,{active:!0,inverted:!0},r.a.createElement(j.a,{size:"massive"},"Loading...")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Indra ABM platform"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"We are encountering some problems with the API server. We will have this model running soon!"),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component),We=Object(u.b)("div")(Te||(Te=Object(c.a)(["\n  background: ",';\n  width: 100vw;\n  min-height: 100vh;\n  font-family: -apple-stem, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen";\n  h1 {\n    color: ',";\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.body}));function He(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:X}),r.a.createElement(s.a,{exact:!0,path:"/wip",component:$}),r.a.createElement(s.a,{exact:!0,path:"/models/props/:id",component:le}),r.a.createElement(s.a,{exact:!0,path:"/models/menu/:id",component:Me}),r.a.createElement(s.a,{exact:!0,path:"/errorCatching",component:Ue}),r.a.createElement(s.a,{component:Ae}))}var Ve,Ke=Object(u.c)((function(){return r.a.createElement(We,null,r.a.createElement(i.a,null,r.a.createElement(v,null,r.a.createElement(He,null))))})),ze=(a(584),a(585),a(586),a(217)),qe=a(615),Ge=a(46),Ye=a(85),Je=a.n(Ye),Xe=Je()("mode",{light:"#fafafa",dark:"#222"}),$e=Je()("mode",{light:"#000",dark:"#fff"}),Qe=(Je()("mode",{light:"#222",dark:"#eee"}),Je()("mode",{light:"#eee",dark:"#222"}),r.a.createContext()),Ze=Object(Ge.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#060606",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#060606",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(ze.a)(e,["classes"]);return r.a.createElement(qe.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),et=function(e){var t=e.children,a=r.a.useState({mode:"light",checkedB:!0}),n=Object(ue.a)(a,2),l=n[0],o=n[1],i=u.b.div(Ve||(Ve=Object(c.a)(["\n    background-color: ",";\n    color: ",";\n  "])),Xe,$e),s=function(e){return function(t){var a="light"===l.mode?"dark":"light";o(Object(Q.a)({mode:a},e,t.target.checked))}};return r.a.createElement(Qe.Provider,{value:{toggle:s}},r.a.createElement(u.a,{theme:{mode:l.mode}},r.a.createElement(i,null,r.a.createElement(Ze,{checked:l.checkedB,onChange:s("checkedB"),value:"checkedB"}),t)))};o.a.render(r.a.createElement(et,null,r.a.createElement(Ke,null)),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.73e4e9d4.chunk.js.map